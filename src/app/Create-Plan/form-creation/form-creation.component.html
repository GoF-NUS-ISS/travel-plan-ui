<div class="card">
  <div class="card-header">
    Create a New Plan
  </div>
  <br />
  <div class="form-group">
    <label for="title">Title</label>
    <input type="text" class="form-control" id="titleId" placeholder="Set a title for your trip">
  </div>
  <div class="card-body">
    <form class="default" novalidate (ngSubmit)="save()" [formGroup]="overallForm">
      <!-- <form class="default" novalidate [formGroup]="overallForm"> -->
      <div formArrayName="formDetails">
        <div [formGroupName]="i" *ngFor="let formDetail of formDetails.controls; let i=index">
          <div class="card-header" id="{{ 'dayId' + i }}">
            Day {{i+1}}
          </div>
          <div class="body-form-leg">
            <button class="btn btn-outline-primary" type="button" style="float: right;font-size: 12px;"
              (click)="deleteDay(i)">
              <!-- *ngIf="i!=0" -->
              Delete Day
            </button>
            <br />
            <div class="form-group row mb-2">
              <label class="col-md-1 col-form-label" [attr.for]="i">Date: </label>
              <div class="col-md-8">
                <input type="date" id="{{'dateId'}}" formControlName="date">
              </div>
            </div>
            <div class="card-body-travel">
              <app-travel-leg></app-travel-leg>
            </div>
            <div class="card-body-activity">
              <app-activity-leg></app-activity-leg>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="form-group row mb-2">
        <div class="col-md-4">
          <button class="btn btn-outline-primary" type="button" style="margin-left:10px; font-size: 12px;"
            (click)="addTravelDetail()">
            Add Traveller Details
          </button>
        </div>
      </div> -->
      <div class="form-group row mb-2">
        <div class="col-md-4">
          <button class="btn btn-outline-primary" type="button" style="font-size: 12px;" (click)="addDay()">
            Add Day
          </button>
        </div>
      </div>
      <!-- <app-activity-leg></app-activity-leg> -->
      <!-- <agm-map [latitude]="latitude" [longitude]="longitude" (mapclick)="onChoseLocation($event)">
      <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>
    </agm-map><br/> -->
      <button type="submit" class="btn btn-primary">Save as Draft</button>
      <button type="button" class="btn btn-primary" style="margin-left:20px;" (click)="publish()">Publish</button>
      <button type="button" class="btn btn-primary" style="margin-left:20px;" (click)="cancel()">Cancel</button>
    </form>
  </div>